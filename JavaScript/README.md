## JSはシングルスレッドなのに、どうして複数の処理を同時に実行できるのか（非同期処理）



## DOM APIとはなんなのか

- DOM（Document Object Model）は、HTML文書をオブジェクトとして表現し、JavaScriptなどのプログラミング言語で操作できるようにします。ウェブページはHTMLで記述されており、DOMはそのHTMLをツリー構造として表現します。このツリー構造を通じて、JavaScriptなどのプログラミング言語でウェブページの内容やスタイルを動的に変更することができます。

具体例
例えば、以下のようなシンプルなHTMLページがあるとします。

`
<!DOCTYPE html>
  <html>
    <head>
        <title>サンプルページ</title>
    </head>
    <body>
        <h1 id="title">こんにちは、世界！</h1>
        <p>これはサンプルの段落です。</p>
    </body>
</html>
`

このHTMLは、DOMツリーとして以下のように表現されます：
- html
  - head
    - title
  - body
    - h1
    - p
JavaScriptを使って、このDOMを操作することができます。例えば、h1要素のテキストを変更するには、次のようにします。

### いつDOMが作られる？
- DOMは、ブラウザがHTML文書を読み込む際に生成されます。具体的な流れは以下の通りです：
1. HTMLの読み込み開始: ブラウザがウェブページをリクエストし、HTML文書のダウンロードを開始します。
2. HTMLの解析: ブラウザはHTML文書を上から順に解析し、DOMツリーを構築します。この過程で、HTMLの各要素がDOMノードとしてオブジェクト化されます。
3. DOMの生成: HTML文書の解析が進むにつれて、DOMツリーが徐々に完成していきます。ブラウザはこのツリーを使ってページを表示します。
4. DOMContentLoadedイベント: DOMツリーが完全に構築されると、DOMContentLoadedイベントが発火します。この時点で、JavaScriptはDOMに対して安全に操作を行うことができます。
5. ページの完全な読み込み: 画像やスタイルシートなどのリソースがすべて読み込まれると、loadイベントが発火します。
このように、DOMはHTML文書の解析中にリアルタイムで生成され、DOMContentLoadedイベントが発火するタイミングで完全に利用可能になります。

### 誰がDOMを作る？
- DOMを生成するのはブラウザの役割です。ブラウザはHTML文書を解析し、その内容を基にDOMツリーを構築します。このプロセスはブラウザのレンダリングエンジンによって行われ、ユーザーがウェブページを操作できるようにするための基盤を提供します。
このDOMツリーは、JavaScriptなどのプログラミング言語を使って操作することができ、ウェブページの内容やスタイルを動的に変更するためのインターフェースを提供します。


### DOMの利点
- 動的なコンテンツの更新: ユーザーの操作に応じてページの内容を変更できます。
- スタイルの変更: JavaScriptを使ってCSSスタイルを動的に変更できます。
- イベント処理: ユーザーのクリックやキーボード入力などのイベントに応じて処理を実行できます。
このように、DOMはウェブページをインタラクティブにするための強力なツールです。

### documentって
- $(document)は、jQueryというJavaScriptライブラリを使用したコードの一部です。このdocumentは、ブラウザが読み込んでいる現在のHTML文書を指すDOMオブジェクトです。
- 詳細
document: これはブラウザが表示しているウェブページ全体を表すDOMオブジェクトです。JavaScriptやjQueryを使って、このdocumentオブジェクトを操作することで、ページの内容やスタイルを動的に変更することができます。
$(document): jQueryのシンタックスで、documentオブジェクトをjQueryオブジェクトとしてラップします。これにより、jQueryのメソッドを使ってdocumentに対して様々な操作を行うことができます。
例えば、$(document).ready(function() { ... });というコードは、HTML文書が完全に読み込まれた後に実行したい処理を指定するために使われます。これは、ページの読み込みが完了した時点で、指定した関数を実行するための一般的な方法です。